<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Influencer Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Instagram Influencer Analyzer</h1>
            <p class="subtitle">Analyze any Instagram account's metrics and get an influencer score</p>
        </header>

        <div class="search-section">
            <form id="analyzeForm">
                <div class="input-group">
                    <input 
                        type="text" 
                        id="username" 
                        placeholder="Enter Instagram username (e.g., hello_aadhya)" 
                        required
                    >
                    <button type="submit" id="analyzeBtn">
                        <span class="btn-text">Analyze</span>
                        <span class="loader" style="display: none;"></span>
                    </button>
                </div>
            </form>
        </div>

        <div id="error" class="error-message" style="display: none;"></div>

        <div id="results" style="display: none;">
            <!-- Profile Section -->
            <div class="profile-section">
                <img id="profilePic" src="" alt="Profile Picture" class="profile-pic">
                <div class="profile-info">
                    <h2 id="fullName"></h2>
                    <p class="username-display">@<span id="usernameDisplay"></span></p>
                    <div class="badges">
                        <span id="verifiedBadge" class="badge badge-verified" style="display: none;">‚úì Verified</span>
                        <span id="businessBadge" class="badge badge-business" style="display: none;">Business</span>
                        <span id="categoryBadge" class="badge badge-category"></span>
                    </div>
                </div>
            </div>

            <!-- Score Section -->
            <div class="score-section">
                <div class="score-main">
                    <div class="score-circle">
                        <svg width="200" height="200">
                            <circle cx="100" cy="100" r="90" fill="none" stroke="#eee" stroke-width="15"/>
                            <circle id="scoreCircle" cx="100" cy="100" r="90" fill="none" stroke="#4CAF50" 
                                    stroke-width="15" stroke-dasharray="565.48" stroke-dashoffset="565.48"
                                    transform="rotate(-90 100 100)" stroke-linecap="round"/>
                        </svg>
                        <div class="score-text">
                            <div class="score-value" id="totalScore">0</div>
                            <div class="score-label">Score</div>
                        </div>
                    </div>
                    <div class="score-info">
                        <h3 id="scoreTier" class="tier-badge"></h3>
                        <p class="score-description">Based on engagement, reach, content quality, credibility, and brand collaborations</p>
                    </div>
                </div>

                <!-- Score Breakdown -->
                <div class="score-breakdown">
                    <h3>Score Breakdown</h3>
                    <div class="breakdown-item">
                        <div class="breakdown-header">
                            <span>Engagement Quality</span>
                            <span class="breakdown-score"><span id="engagementScore">0</span>/40</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="engagementBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-header">
                            <span>Reach</span>
                            <span class="breakdown-score"><span id="reachScore">0</span>/25</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="reachBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-header">
                            <span>Content Quality</span>
                            <span class="breakdown-score"><span id="contentScore">0</span>/15</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="contentBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-header">
                            <span>Credibility</span>
                            <span class="breakdown-score"><span id="credibilityScore">0</span>/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="credibilityBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-header">
                            <span>Brand Collaboration</span>
                            <span class="breakdown-score"><span id="brandScore">0</span>/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="brandBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Metrics Grid -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon">üë•</div>
                    <div class="metric-value" id="followers">0</div>
                    <div class="metric-label">Followers</div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon">‚ù§Ô∏è</div>
                    <div class="metric-value" id="avgLikes">0</div>
                    <div class="metric-label">Avg Likes</div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon">üí¨</div>
                    <div class="metric-value" id="avgComments">0</div>
                    <div class="metric-label">Avg Comments</div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon">üìà</div>
                    <div class="metric-value" id="engagementRate">0%</div>
                    <div class="metric-label">Engagement Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon">üì∑</div>
                    <div class="metric-value" id="postsCount">0</div>
                    <div class="metric-label">Total Posts</div>
                </div>
                <div class="metric-card">
                    <div class="metric-icon">ü§ù</div>
                    <div class="metric-value" id="brandsCount">0</div>
                    <div class="metric-label">Brand Collabs</div>
                </div>
            </div>

            <!-- Content Breakdown -->
            <div class="content-section">
                <h3>Content Distribution</h3>
                <div class="content-stats">
                    <div class="content-stat">
                        <span class="content-label">Images</span>
                        <span class="content-value" id="numImages">0</span>
                    </div>
                    <div class="content-stat">
                        <span class="content-label">Carousels</span>
                        <span class="content-value" id="numCarousels">0</span>
                    </div>
                    <div class="content-stat">
                        <span class="content-label">Videos</span>
                        <span class="content-value" id="numVideos">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Made with ‚ù§Ô∏è for Instagram Analytics | Data refreshed in real-time</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
